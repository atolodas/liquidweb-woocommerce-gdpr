function clearNewFieldInputs(){jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-title").val(""),jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-label").val(""),jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-required").prop("checked",!1)}jQuery(document).ready(function(e){e.fn.divExists=function(e){var r=[].slice.call(arguments,1);return this.length&&e.call(this,r),this};var r,o,t,l,a,n,i,d="table.lw-woo-gdpr-saved-table-wrap",w="table.lw-woo-gdpr-saved-table-wrap tbody";e(d).divExists(function(){e(this).find("tbody").sortable({handle:".lw-woo-gdpr-trigger-icon",update:function(r,o){var t={action:"lw_woo_update_sorted_rows",sorted:e(w).sortable("toArray",{attribute:"data-key"})};jQuery.post(ajaxurl,t)}})}),e("table.lw-woo-gdpr-add-new-table-wrap").on("click","input.lw-woo-gdpr-add-new",function(r){if(r.preventDefault(),""===(i=e("input#lw_woo_gdpr_new_nonce").val())||void 0===i)return!1;l=e("input#lw-woo-gdpr-new-required").is(":checked"),a=e("input#lw-woo-gdpr-new-title").val(),n=e("input#lw-woo-gdpr-new-label").val();var o={action:"lw_woo_add_new_optin_row",required:l,title:a,label:n,nonce:i};jQuery.post(ajaxurl,o,function(r){if(!0!==r.success)return!1;""!==r.data.markup&&(clearNewFieldInputs(),e("table#lw-woo-gdpr-fields-table tr:last").after(r.data.markup),e(d).sortable("refreshPositions"))})}),e(d).on("click","a.lw-woo-gdpr-field-trigger-trash",function(l){if(l.preventDefault(),r=e(this).parents("tr.lw-woo-gdpr-field-single"),o=e(this).data("field-id"),""===(t=e(this).data("nonce"))||void 0===t)return!1;if(""===o||void 0===o)return!1;var a={action:"lw_woo_delete_single_row",field_id:o,nonce:t};jQuery.post(ajaxurl,a,function(o){if(!0!==o.success)return!1;!0!==o.success&&"true"!==o.success||(e(d).find(r).fadeOut().remove(),e(w).sortable("refreshPositions"))})})});