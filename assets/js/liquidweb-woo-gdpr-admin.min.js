function clearNewFieldInputs(){jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-title").val(""),jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-label").val(""),jQuery(".lw-woo-gdpr-new-fields-row #lw-woo-gdpr-new-required").prop("checked",!1)}jQuery(document).ready(function(a){a.fn.divExists=function(e){var o=[].slice.call(arguments,1);return this.length&&e.call(this,o),this};var l="table.lw-woo-gdpr-saved-table-wrap",i="table.lw-woo-gdpr-saved-table-wrap tbody";a(l).divExists(function(){a(i).sortable({handle:".lw-woo-gdpr-trigger-icon",update:function(e,o){var r={action:"lw_woo_update_sorted_rows",sorted:a(i).sortable("toArray",{attribute:"data-key"})};jQuery.post(ajaxurl,r)}})}),a("form#mainform").submit(function(e){if(e.preventDefault(),a(".woo-nav-tab-wrapper a").off(),newNonce=a("input#lw_woo_gdpr_new_nonce").val(),""===newNonce||void 0===newNonce)return!1;var o={action:"lw_woo_add_new_optin_row",required:a("input#lw-woo-gdpr-new-required").is(":checked"),title:a("input#lw-woo-gdpr-new-title").val(),label:a("input#lw-woo-gdpr-new-label").val(),nonce:newNonce};jQuery.post(ajaxurl,o,function(e){if(!0!==e.success)return!1;""!==e.data.markup&&(clearNewFieldInputs(),a("table#lw-woo-gdpr-fields-table tr:last").after(e.data.markup),a(i).sortable("refreshPositions"))},"json")}),a(l).on("click","a.lw-woo-gdpr-field-trigger-trash",function(e){e.preventDefault();var o=a(this).parents("tr.lw-woo-gdpr-field-single"),r=a(this).data("field-id"),t=a(this).data("nonce");if(""===t||void 0===t)return!1;if(""===r||void 0===r)return!1;var n={action:"lw_woo_delete_single_row",field_id:r,nonce:t};jQuery.post(ajaxurl,n,function(e){if(!0!==e.success)return!1;!0!==e.success&&"true"!==e.success||(a(l).find(o).fadeOut().remove(),a(i).sortable("refreshPositions"))},"json")})});